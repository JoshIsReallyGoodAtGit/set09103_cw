{% extends 'init-header.html' %}
{% block content %}
<section>
    <div class='container'>
        <div class='row'>
            <div class='col-xs-12'>
                <h1 class='section-heading'>
                    All {{ category }} Shoes
                </h1>
            </div>
        </div>
    

<div class='row p-t-2'>
    <div class='col-xs-12 col-sm-6 text-center'>
        <form action='category.html' class='form-inline' method='POST' id="sort-form">
             <div class='form-group'>
                    Refine
                        <select name='sort' class='form-control'>
                            <option value='name'>Name (A-Z) (Default)</option>
                            <option value='pop-score'>Popularity (Low - High)</option>
                             <option value='size-1'>Smallest Shoe Size</option>
                            <option value='size-2'>Largest Shoe Size</option>
                        </select>
                    </div>
                    <div class='form-group'>
                        <input type="submit" class="btn-sbx" value="Refresh">
                    </div>
                </form>
            </div>
        </div>
<div class="row"> 
    <!--for every shoe in the list of shoes, does the current shoe match the category given? If it does, display in in a sexy format, if not, skip it and check the next one -->
    {% set loopCount = 0 %}
    {% for shoe in shoes | sort(attribute = sortCriteria) -%}
        {% if shoes[shoe]['category'] == category %}
        {{ loopCount }}
            <div class='col-xs-6 col-sm-4'>
                <div class='card-wrapper'>
                    <div class='card'>
                        <img class='img-responsive img-card' src='../static/img/shoes/{{shoes[shoe]['background-img']}}'>
                    </div>
                    <div class='card-footer'>
                        <a href="/shoe/{{category}}/{{ shoes[shoe]['tag']}} ">{{ shoes[shoe]['name'] | safe }}</a>
                    </div>
                </div>
            </div>
            {% set loopCount = loopCount + 1%}
        {%endif %}
    {%- endfor %}
</div>
    </div><!--/container -->
</section>
{% endblock %}}